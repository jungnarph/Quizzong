{% extends 'main_base.html' %}
{% load static %}
{% block title %}Quiz Results: {{ quiz.title }}{% endblock %}

{% block content %}
<div class="quiz-results-page">
  <h2 class="quiz-results-title">
    <img src="{% static 'images/Question.gif' %}" alt="?" class="quiz-results-gif">
    {{ quiz.title }} - Results
  </h2>

  <div class="quiz-results-summary">
    <p><strong>Total Score:</strong> {{ attempt.total_score }}</p>
    <p><strong>Submitted At:</strong> {{ attempt.submitted_at }}</p>
  </div>

  {% for answer in answers %}
    <div class="quiz-results-question">
      <p class="quiz-results-question-text"><strong>{{ forloop.counter }}. {{ answer.question.text }}</strong></p>

      {% if answer.question.type == 'choice' %}
        <p class="quiz-results-answer"><strong>Your answer:</strong> {{ answer.selected_option.text }}</p>
        <p class="quiz-results-score"><strong>Score:</strong> {{ answer.score }}</p>
      {% else %}
        <p class="quiz-results-answer"><strong>Your answer:</strong> {{ answer.text_answer }}</p>
        <p class="quiz-results-score"><strong>Score:</strong> {{ answer.score }}</p>
      {% endif %}
    </div>
  {% endfor %}
</div>

<div class="quiz-results-page">
  <p class="quiz-results-answer"><strong>Personalized Ai Recommendation:</strong></p>
</div>

{% endblock %}
